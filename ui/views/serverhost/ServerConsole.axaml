<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:controls="clr-namespace:SCLauncher.ui.controls"
             xmlns:li="clr-namespace:LoadingIndicators.Avalonia;assembly=LoadingIndicators.Avalonia"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="300"
             x:Class="SCLauncher.ui.views.serverhost.ServerConsole">
	
	<UserControl.Styles>
		
		<Style Selector="TextBox#CommandTextBox">
			<Setter Property="BorderThickness" Value="0"/>
			<Style Selector="^:focus-within /template/ Border">
				<Setter Property="BorderThickness" Value="0"/>
			</Style>
		</Style>
		
		<Style Selector="li|LoadingIndicator#StatusIndicator">
			<Style Selector="^.offline">
				<Setter Property="Foreground" Value="OrangeRed"/>
				<Setter Property="SpeedRatio" Value="0"/>
			</Style>
			<Style Selector="^.online">
				<Setter Property="Foreground" Value="DeepSkyBlue"/>
				<Setter Property="SpeedRatio" Value="0.25"/>
			</Style>
		</Style>
		
	</UserControl.Styles>
	
	<DockPanel>
		
		<!-- Header - status row -->
		<DockPanel DockPanel.Dock="Top" HorizontalAlignment="Stretch" Margin="0 0 10 0">
			<StackPanel DockPanel.Dock="Right" Orientation="Horizontal" HorizontalAlignment="Right">
				<Button Padding="50 2" CornerRadius="10 0 0 0"
				        Content="Start" Name="StartButton">
					<Button.Background>
						<LinearGradientBrush StartPoint="0%,0%" EndPoint="0%,100%">
							<GradientStop Color="#006400" Offset="0.0"/>
							<GradientStop Color="#004500" Offset="1.0"/>
						</LinearGradientBrush>
					</Button.Background>
				</Button>
				<Button Padding="50 2" CornerRadius="0 10 0 0"
				        Content="Stop" Name="StopButton">
			        <Button.Background>
				        <LinearGradientBrush StartPoint="0%,0%" EndPoint="0%,100%">
					        <GradientStop Color="#8B0000" Offset="0.0"/>
					        <GradientStop Color="#4E000B" Offset="1.0"/>
				        </LinearGradientBrush>
			        </Button.Background>
				</Button>
			</StackPanel>
			<StackPanel DockPanel.Dock="Left" Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center">
				<Viewbox Stretch="Uniform" Height="25">
					<li:LoadingIndicator Name="StatusIndicator" Mode="DoubleBounce"/>
				</Viewbox>
				<Label VerticalAlignment="Center" Name="StatusIndicatorLabel"/>
			</StackPanel>
		</DockPanel>
		
		<!-- Footer - command input row -->
		<Border DockPanel.Dock="Bottom" CornerRadius="5"
		        HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="0 10 0 0">
			<DockPanel>
				<TextBox Name="CommandTextBox" VerticalContentAlignment="Center">
					<TextBox.InnerLeftContent>
						<Label VerticalAlignment="Center" Content=">" Margin="10 0 0 0"
						       Foreground="{DynamicResource TextControlPlaceholderForeground}"/>
					</TextBox.InnerLeftContent>
					<TextBox.InnerRightContent>
						<Button DockPanel.Dock="Right" Content="Submit" Name="SubmitButton" Classes="accent"
						        Click="SubmitButton_OnClick" HotKey="Enter"
						        CornerRadius="0 4 4 0" Focusable="False"/>
					</TextBox.InnerRightContent>
				</TextBox>
			</DockPanel>
		</Border>
		
		<!-- Console -->
		<Border Background="Black" BorderBrush="{StaticResource SystemAccentColor}"
		        BorderThickness="1" CornerRadius="5" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
			<controls:StatusMessageViewer Name="ConsoleViewer" Limit="1000"/>
		</Border>
		
	</DockPanel>
	
</UserControl>
